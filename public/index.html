<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Greg Pedro - Dental Backend API</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        h1 {
            color: #2a6496;
        }
        h2 {
            color: #2a6496;
            margin-top: 30px;
        }
        .api-endpoint {
            background-color: #f8f9fa;
            border-left: 4px solid #2a6496;
            padding: 10px 15px;
            margin: 15px 0;
        }
        .endpoint-method {
            font-weight: bold;
            color: #28a745;
            display: inline-block;
            width: 60px;
        }
        .endpoint-path {
            font-family: monospace;
            color: #212529;
        }
        .yomi-highlight {
            background-color: #e9f5fe;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9em;
            color: #6c757d;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 50px;
            background-color: #28a745;
            color: white;
            font-weight: bold;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <header>
        <h1>Dr. Greg Pedro Dental Practice API</h1>
        <p><span class="status-badge">API ONLINE</span></p>
        <p>Backend service for Dr. Greg Pedro's dental practice website, featuring Yomi robotic dental implant technology.</p>
    </header>

    <main>
        <div class="yomi-highlight">
            <h2>Yomi Robotic Technology</h2>
            <p>Our API provides comprehensive information about the revolutionary Yomi robotic system used for dental implant procedures. This cutting-edge technology offers unprecedented precision and minimally invasive techniques for better patient outcomes.</p>
        </div>

        <h2>API Endpoints</h2>
        <p>This backend service provides the following API endpoints:</p>

        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/health</span></p>
            <p>Check API health status</p>
        </div>

        <h3>Authentication</h3>
        <div class="api-endpoint">
            <p><span class="endpoint-method">POST</span> <span class="endpoint-path">/auth/signup</span></p>
            <p>Create new patient account</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">POST</span> <span class="endpoint-path">/auth/signin</span></p>
            <p>Authenticate existing patient</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">POST</span> <span class="endpoint-path">/auth/signout</span></p>
            <p>End patient session</p>
        </div>

        <h3>Appointments</h3>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/appointments/upcoming</span></p>
            <p>List patient's upcoming appointments</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/appointments/history</span></p>
            <p>List patient's appointment history</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">POST</span> <span class="endpoint-path">/appointments</span></p>
            <p>Schedule new appointment</p>
        </div>

        <h3>Services</h3>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/services/services</span></p>
            <p>List all dental services offered</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/services/yomi-features</span></p>
            <p>Information about Yomi technology features</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/services/staff</span></p>
            <p>List dental practice staff</p>
        </div>
        <div class="api-endpoint">
            <p><span class="endpoint-method">GET</span> <span class="endpoint-path">/services/testimonials</span></p>
            <p>List patient testimonials</p>
        </div>

        <h2>Technical Information</h2>
        <p>This API backend is built with:</p>
        <ul>
            <li>Supabase for authentication and database</li>
            <li>PostgreSQL for data storage</li>
            <li>Deno Edge Functions for serverless operation</li>
            <li>Render for deployment and hosting</li>
        </ul>
    </main>

    <footer>
        <p>&copy; 2025 Dr. Greg Pedro Dental Practice. All rights reserved.</p>
        <p>For API access and integration, please contact our technical team.</p>
    </footer>

    <script>
        // Simple script to update the API status badge based on health check
        async function checkApiStatus() {
            try {
                const response = await fetch('/health');
                if (response.ok) {
                    document.querySelector('.status-badge').textContent = 'API ONLINE';
                    document.querySelector('.status-badge').style.backgroundColor = '#28a745';
                } else {
                    document.querySelector('.status-badge').textContent = 'API ISSUES';
                    document.querySelector('.status-badge').style.backgroundColor = '#ffc107';
                }
            } catch (error) {
                document.querySelector('.status-badge').textContent = 'API OFFLINE';
                document.querySelector('.status-badge').style.backgroundColor = '#dc3545';
            }
        }

        // Check status on page load
        window.addEventListener('load', checkApiStatus);
    </script>
</body>
</html>
